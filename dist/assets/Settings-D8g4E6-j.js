import{u as p,a as h,r as a,R as e,g as v,b as E}from"./index-DdU1dMS1.js";function y(){const{user:r}=p(),{theme:g,toggleTheme:f}=h(),l=r==null?void 0:r.id,[c,m]=a.useState(""),[x,o]=a.useState(!0),[i,d]=a.useState(!1),[u,s]=a.useState("");a.useEffect(()=>{(async()=>{if(l){o(!0);try{const t=await v(l);m((t==null?void 0:t.full_name)||"")}catch(t){console.error(t)}finally{o(!1)}}})()},[l]);const b=async()=>{d(!0),s("");try{await E({id:l,full_name:c}),s("Profile updated.")}catch{s("Failed to update profile.")}finally{d(!1),setTimeout(()=>s(""),2500)}};return x?e.createElement("div",null,"Loading settings..."):e.createElement("div",{className:"max-w-3xl mx-auto"},e.createElement("h1",{className:"text-3xl font-bold mb-6"},"Settings"),e.createElement("div",{className:"p-6 card rounded-lg mb-6"},e.createElement("h2",{className:"text-xl font-semibold mb-3"},"Profile"),e.createElement("label",{className:"block text-sm mb-1"},"Full name"),e.createElement("input",{className:"w-full p-3 border rounded mb-3",value:c,onChange:n=>m(n.target.value),placeholder:"Your full name"}),e.createElement("button",{onClick:b,disabled:i,className:"px-4 py-2 rounded bg-[color:var(--sb-accent)] text-[color:var(--sb-button-text)]"},i?"Saving...":"Save Profile"),u&&e.createElement("div",{className:"mt-3 text-sm text-green-500"},u)),e.createElement("div",{className:"p-6 card rounded-lg"},e.createElement("h2",{className:"text-xl font-semibold mb-3"},"Theme"),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"text-sm text-gray-500"},"Light (Beige)")),e.createElement("div",{className:"flex items-center"},e.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},e.createElement("input",{type:"checkbox",className:"sr-only peer",checked:g==="dark",onChange:f,"aria-label":"Toggle theme"}),e.createElement("div",{className:"w-14 h-7 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:bg-[color:var(--sb-accent)] transition-colors"}),e.createElement("span",{className:"absolute left-0.5 top-0.5 w-6 h-6 bg-white rounded-full shadow transform transition peer-checked:translate-x-7"}))),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"text-sm text-gray-500"},"Dark (Black/Blue)"))),e.createElement("p",{className:"text-sm text-gray-500 mt-3"},"Theme changes are saved to your profile automatically.")))}export{y as default};
