import{u as L,d as A,r as a,R as e}from"./index-3SiuuXzX.js";function D(){const{user:m,loading:b,loginWithEmail:h,signUpWithEmail:y}=L(),E=A(),[r,g]=a.useState("login"),[l,x]=a.useState(""),[o,P]=a.useState(""),[p,N]=a.useState(""),[c,u]=a.useState(!1),[f,d]=a.useState(""),[v,n]=a.useState("");a.useEffect(()=>{!b&&m&&E("/")},[m,b]);const w=()=>{d(""),n("")},S=(t,s)=>{if(t.length<8)return"Password must be at least 8 characters.";if(!/[A-Z]/.test(t))return"Password must contain at least one uppercase letter.";if(!/[0-9]/.test(t))return"Password must contain at least one number.";if(!/[!@#$%^&*()_\-+=<>?{}]/.test(t))return"Password must contain at least one special character.";const i=s.split("@")[0];return t.toLowerCase().includes(i.toLowerCase())?"Password cannot contain your username.":["password","123456","qwerty","abc123"].includes(t.toLowerCase())?"Password is too weak.":null},k=async t=>{t.preventDefault(),w(),u(!0);const{error:s}=await h(l,o);s?n(s.message):d("Logged in!"),u(!1)},C=async t=>{if(t.preventDefault(),w(),o!==p)return n("Passwords do not match.");const s=S(o,l);if(s)return n(s);u(!0);const{error:i}=await y(l,o);i?n(i.message):d("Signup successful! Please check your email to verify."),u(!1)};return e.createElement("div",{className:"min-h-screen flex justify-center items-center",style:{background:"var(--sb-bg)"}},e.createElement("div",{className:"w-full max-w-md p-6 rounded-xl shadow-lg",style:{background:"var(--sb-card)",color:"var(--sb-text)"}},e.createElement("h2",{className:"text-2xl font-bold mb-4 text-center"},r==="login"?"Login":"Create an Account"),v&&e.createElement("p",{style:{color:"#ef4444"},className:"text-sm mb-2"},v),f&&e.createElement("p",{style:{color:"#22c55e"},className:"text-sm mb-2"},f),e.createElement("form",{onSubmit:r==="login"?k:C},e.createElement("input",{type:"email",placeholder:"Email",className:"w-full p-3 border rounded-md mb-3",style:{background:"var(--sb-card)",color:"#000",border:"1px solid var(--sb-border)"},value:l,onChange:t=>x(t.target.value),required:!0}),e.createElement("input",{type:"password",placeholder:"Password",className:"w-full p-3 border rounded-md mb-3",style:{background:"var(--sb-card)",color:"#000",border:"1px solid var(--sb-border)"},value:o,onChange:t=>P(t.target.value),required:!0}),r==="signup"&&e.createElement("input",{type:"password",placeholder:"Confirm Password",className:"w-full p-3 border rounded-md mb-3",style:{background:"var(--sb-card)",color:"#000",border:"1px solid var(--sb-border)"},value:p,onChange:t=>N(t.target.value),required:!0}),e.createElement("button",{type:"submit",disabled:c,className:"w-full p-3 rounded-md",style:{background:"var(--sb-accent)",color:"var(--sb-button-text)",opacity:c?.7:1,cursor:c?"not-allowed":"pointer",fontWeight:600,fontSize:"1rem",border:"none"}},c?"Please wait...":r==="login"?"Login":"Sign Up")),e.createElement("p",{className:"mt-4 text-center text-sm"},r==="login"?e.createElement(e.Fragment,null,"Don't have an account?"," ",e.createElement("span",{className:"cursor-pointer",style:{color:"var(--sb-accent)",fontWeight:500},onClick:()=>g("signup")},"Sign up")):e.createElement(e.Fragment,null,"Already have an account?"," ",e.createElement("span",{className:"cursor-pointer",style:{color:"var(--sb-accent)",fontWeight:500},onClick:()=>g("login")},"Login")))))}export{D as default};
