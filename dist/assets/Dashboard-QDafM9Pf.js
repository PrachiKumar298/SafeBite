import{u as p,r as s,R as e,L as a}from"./index-E3EZl41n.js";import{g as b}from"./allergyService-DiR-Nghx.js";function E(){var c,o;const{user:t,profile:l}=p(),[m,d]=s.useState([]),[n,r]=s.useState(!0),i=((c=l==null?void 0:l.full_name)==null?void 0:c.split(" ")[0])||((o=t==null?void 0:t.email)==null?void 0:o.split("@")[0])||"Friend";return s.useEffect(()=>{(async()=>{if(!(t!=null&&t.id))return;r(!0);const x=await b(t.id);d(x||[]),r(!1)})()},[t==null?void 0:t.id]),n?e.createElement("div",null,"Loading dashboard..."):e.createElement("div",{className:"max-w-6xl mx-auto"},e.createElement("div",{className:"mb-8"},e.createElement("h1",{className:"text-4xl font-bold"},"Welcome back, ",i," ðŸ‘‹"),e.createElement("p",{className:"text-[color:var(--sb-muted)] mt-2"},"Hereâ€™s your personalized health and allergy overview.")),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-10"},e.createElement("div",{className:"p-6 card rounded-xl shadow-sm"},e.createElement("p",{className:"text-sm text-[color:var(--sb-muted)] mb-1"},"Tracked Allergies"),e.createElement("div",{className:"text-3xl font-bold"},m.length),e.createElement("p",{className:"text-sm text-[color:var(--sb-muted)] mt-1"},"Allergens currently on your profile")),e.createElement("div",{className:"p-6 card rounded-xl shadow-sm"},e.createElement("p",{className:"text-sm text-[color:var(--sb-muted)] mb-1"},"Unsafe Foods / Medicines"),e.createElement("div",{className:"text-3xl font-bold"},"â€”"),e.createElement("p",{className:"text-sm text-[color:var(--sb-muted)] mt-1"},"Based on real-time checks")),e.createElement("div",{className:"p-6 card rounded-xl shadow-sm"},e.createElement("p",{className:"text-sm text-[color:var(--sb-muted)] mb-1"},"Saved Recipes"),e.createElement("div",{className:"text-3xl font-bold"},"â€”"),e.createElement("p",{className:"text-sm text-[color:var(--sb-muted)] mt-1"},"Meals youâ€™ve saved for later"))),e.createElement("div",{className:"p-6 card rounded-xl shadow-sm mb-8"},e.createElement("h2",{className:"text-xl font-semibold mb-4"},"Quick Actions"),e.createElement("div",{className:"flex flex-wrap gap-4"},e.createElement(a,{to:"/allergies",className:"px-4 py-2 rounded-lg bg-[color:var(--sb-accent)] text-white hover:opacity-90"},"Manage Allergies"),e.createElement(a,{to:"/food-check",className:"px-4 py-2 rounded-lg bg-[color:var(--sb-accent)] text-white hover:opacity-90"},"Check Food Safety"),e.createElement(a,{to:"/medicine-check",className:"px-4 py-2 rounded-lg bg-[color:var(--sb-accent)] text-white hover:opacity-90"},"Check Medicine Safety"),e.createElement(a,{to:"/meals",className:"px-4 py-2 rounded-lg bg-[color:var(--sb-accent)] text-white hover:opacity-90"},"Explore Meals"))),e.createElement("div",{className:"mt-6 p-5 card rounded-xl shadow-sm border border-[color:var(--sb-border)]"},e.createElement("p",{className:"text-[color:var(--sb-text)] font-semibold"},"Tip:"),e.createElement("p",{className:"text-[color:var(--sb-muted)] mt-1"},"Keep your allergy list updated to get more accurate safety results across foods and medicines.")))}export{E as default};
